function delayedWindowReload(a){a=a||1000;setTimeout(function(){location.reload()},a)}$(function(){(function(){var a=$(".js-mail-action .form-controls .submit");$('.js-mail-action .select-all, .js-mail-action [name="select_all"]').click(function(){var b=$('[name="select_all"]').prop("checked"),c=$('.js-mail-action [type="checkbox"]');if(!b){c.prop("checked",true);$(".select-all .txt").text("全解除");a.removeClass("disabled")}else{c.prop("checked",false);$(".select-all .txt").text("全選択");a.addClass("disabled")}});$('.js-mail-action .receive-items input[type="checkbox"]').click(function(c){var d=$('.js-mail-action .receive-items input[type ="checkbox"]'),b=false;$.each(d,function(e,f){b=$(f).prop("checked");if(b){return false}});if(b){a.removeClass("disabled")}else{a.addClass("disabled")}});$(".js-mail-action .submit").click(function(){var b=$(".delete-mail");if(!a.hasClass("disabled")){if(window.confirm("選択したメールを削除します。")){var c="/ajax/deleteUserMail",d=[],e=new Modal();$.each($('.js-mail-action .receive-items [type="checkbox"]:checked'),function(f,g){d.push($(g).val())});$.post(c,{ids:d},function(f){f=JSON.parse(f);if(f.error){alert(f.msgs)}else{alert(f.msgs);delayedWindowReload()}})}}})})();(function(){$(".js-unable-double-click").click(function(){$(this).prop("disabled",true);var a=$(this).closest("form");a.submit()})})()});function delayedWindowReload(a){a=a||1000;setTimeout(function(){location.reload()},a)};